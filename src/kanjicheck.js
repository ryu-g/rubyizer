//å¼•ç”¨ã€€from https://orange-factory.com/tool/kanjicheck.html
var hisshu = {
	'1':'ä¸€å³é›¨å††ç‹éŸ³ä¸‹ç«èŠ±è²å­¦æ°—ä¹ä¼‘ç‰é‡‘ç©ºæœˆçŠ¬è¦‹äº”å£æ ¡å·¦ä¸‰å±±å­å››ç³¸å­—è€³ä¸ƒè»Šæ‰‹åå‡ºå¥³å°ä¸Šæ£®äººæ°´æ­£ç”Ÿé’å¤•çŸ³èµ¤åƒå·å…ˆæ—©è‰è¶³æ‘å¤§ç”·ç«¹ä¸­è™«ç”ºå¤©ç”°åœŸäºŒæ—¥å…¥å¹´ç™½å…«ç™¾æ–‡æœ¨æœ¬åç›®ç«‹åŠ›æ—å…­',
	'2':'å¼•ç¾½é›²åœ’é ä½•ç§‘å¤å®¶æ­Œç”»å›ä¼šæµ·çµµå¤–è§’æ¥½æ´»é–“ä¸¸å²©é¡”æ±½è¨˜å¸°å¼“ç‰›é­šäº¬å¼·æ•™è¿‘å…„å½¢è¨ˆå…ƒè¨€åŸæˆ¸å¤åˆå¾Œèªå·¥å…¬åºƒäº¤å…‰è€ƒè¡Œé«˜é»„åˆè°·å›½é»’ä»Šæ‰ç´°ä½œç®—æ­¢å¸‚çŸ¢å§‰æ€ç´™å¯ºè‡ªæ™‚å®¤ç¤¾å¼±é¦–ç§‹é€±æ˜¥æ›¸å°‘å ´è‰²é£Ÿå¿ƒæ–°è¦ªå›³æ•°è¥¿å£°æ˜Ÿæ™´åˆ‡é›ªèˆ¹ç·šå‰çµ„èµ°å¤šå¤ªä½“å°åœ°æ± çŸ¥èŒ¶æ˜¼é•·é³¥æœç›´é€šå¼Ÿåº—ç‚¹é›»åˆ€å†¬å½“æ±ç­”é ­åŒé“èª­å†…å—è‚‰é¦¬å£²è²·éº¦åŠç•ªçˆ¶é¢¨åˆ†èç±³æ­©æ¯æ–¹åŒ—æ¯å¦¹ä¸‡æ˜é³´æ¯›é–€å¤œé‡å‹ç”¨æ›œæ¥é‡Œç†è©±',
	'3':'æ‚ªå®‰æš—åŒ»å§”æ„è‚²å“¡é™¢é£²é‹æ³³é§…å¤®æ¨ªå±‹æ¸©åŒ–è·ç•Œé–‹éšå¯’æ„Ÿæ¼¢é¤¨å²¸èµ·æœŸå®¢ç©¶æ€¥ç´šå®®çƒå»æ©‹æ¥­æ›²å±€éŠ€åŒºè‹¦å…·å›ä¿‚è»½è¡€æ±ºç ”çœŒåº«æ¹–å‘å¹¸æ¸¯å·æ ¹ç¥­çš¿ä»•æ­»ä½¿å§‹æŒ‡æ­¯è©©æ¬¡äº‹æŒå¼å®Ÿå†™è€…ä¸»å®ˆå–é…’å—å·æ‹¾çµ‚ç¿’é›†ä½é‡å®¿æ‰€æš‘åŠ©æ˜­æ¶ˆå•†ç« å‹ä¹—æ¤ç”³èº«ç¥çœŸæ·±é€²ä¸–æ•´æ˜”å…¨ç›¸é€æƒ³æ¯é€Ÿæ—ä»–æ‰“å¯¾å¾…ä»£ç¬¬é¡Œç‚­çŸ­è«‡ç€æ³¨æŸ±ä¸å¸³èª¿è¿½å®šåº­ç¬›é‰„è»¢éƒ½åº¦æŠ•è±†å³¶æ¹¯ç™»ç­‰å‹•ç«¥è¾²æ³¢é…å€ç®±ç•‘ç™ºåå‚æ¿çš®æ‚²ç¾é¼»ç­†æ°·è¡¨ç§’ç—…å“è² éƒ¨æœç¦ç‰©å¹³è¿”å‹‰æ”¾å‘³å‘½é¢å•å½¹è–¬ç”±æ²¹æœ‰éŠäºˆç¾Šæ´‹è‘‰é™½æ§˜è½æµæ—…ä¸¡ç·‘ç¤¼åˆ—ç·´è·¯å’Œ',
	'4':'æ„›æ¡ˆä»¥è¡£ä½èŒ¨å°è‹±æ „åª›å¡©å²¡å„„åŠ æœè²¨èª²èŠ½è³€æ”¹æ¢°å®³è¡—å„è¦šæ½Ÿå®Œå®˜ç®¡é–¢è¦³é¡˜å²å¸Œå­£æ——å™¨æ©Ÿè­°æ±‚æ³£çµ¦æŒ™æ¼å…±å”é¡ç«¶æ¥µç†Šè¨“è»éƒ¡ç¾¤å¾„æ™¯èŠ¸æ¬ çµå»ºå¥é¨“å›ºåŠŸå¥½é¦™å€™åº·ä½å·®èœæœ€åŸ¼æå´æ˜¨æœ­åˆ·å¯Ÿå‚ç”£æ•£æ®‹æ°å¸è©¦å…æ²»æ»‹è¾é¹¿å¤±å€Ÿç¨®å‘¨ç¥é †åˆæ¾ç¬‘å”±ç„¼ç…§åŸç¸„è‡£ä¿¡äº•æˆçœæ¸…é™å¸­ç©æŠ˜ç¯€èª¬æµ…æˆ¦é¸ç„¶äº‰å€‰å·£æŸå´ç¶šå’å­«å¸¯éšŠé”å˜ç½®ä»²æ²–å…†ä½åº•çš„å…¸ä¼å¾’åŠªç¯åƒç‰¹å¾³æ ƒå¥ˆæ¢¨ç†±å¿µæ•—æ¢…åšé˜ªé£¯é£›å¿…ç¥¨æ¨™ä¸å¤«ä»˜åºœé˜œå¯Œå‰¯å…µåˆ¥è¾ºå¤‰ä¾¿åŒ…æ³•æœ›ç‰§æœ«æº€æœªæ°‘ç„¡ç´„å‹‡è¦é¤Šæµ´åˆ©é™¸è‰¯æ–™é‡è¼ªé¡ä»¤å†·ä¾‹é€£è€åŠ´éŒ²',
	'5':'åœ§å›²ç§»å› æ°¸å–¶è¡›æ˜“ç›Šæ¶²æ¼”å¿œå¾€æ¡œå¯ä»®ä¾¡æ²³éå¿«è§£æ ¼ç¢ºé¡åˆŠå¹¹æ…£çœ¼ç´€åŸºå¯„è¦å–œæŠ€ç¾©é€†ä¹…æ—§æ•‘å±…è¨±å¢ƒå‡ç¦å¥å‹çµŒæ½”ä»¶é™ºæ¤œé™ç¾æ¸›æ•…å€‹è­·åŠ¹åšè€•èˆªé‰±æ§‹èˆˆè¬›å‘Šæ··æŸ»å†ç½å¦»æ¡éš›åœ¨è²¡ç½ªæ®ºé›‘é…¸è³›å£«æ”¯å²å¿—æå¸«è³‡é£¼ç¤ºä¼¼è­˜è³ªèˆè¬æˆä¿®è¿°è¡“æº–åºæ‹›è¨¼è±¡è³æ¡çŠ¶å¸¸æƒ…ç¹”è·åˆ¶æ€§æ”¿å‹¢ç²¾è£½ç¨è²¬ç¸¾æ¥è¨­çµ¶ç¥–ç´ ç·é€ åƒå¢—å‰‡æ¸¬å±ç‡æè²¸æ…‹å›£æ–­ç¯‰è²¯å¼µåœæç¨‹é©çµ±å ‚éŠ…å°å¾—æ¯’ç‹¬ä»»ç‡ƒèƒ½ç ´çŠ¯åˆ¤ç‰ˆæ¯”è‚¥éè²»å‚™è©•è²§å¸ƒå©¦æ­¦å¾©è¤‡ä»ç²‰ç·¨å¼ä¿å¢“å ±è±Šé˜²è²¿æš´è„ˆå‹™å¤¢è¿·ç¶¿è¼¸ä½™å®¹ç•¥ç•™é ˜æ­´',
	'6':'èƒƒç•°éºåŸŸå®‡æ˜ å»¶æ²¿æ©æˆ‘ç°æ‹¡é©é–£å‰²æ ªå¹²å·»çœ‹ç°¡å±æœºæ®è²´ç–‘å¸ä¾›èƒ¸éƒ·å‹¤ç­‹ç³»æ•¬è­¦åŠ‡æ¿€ç©´åˆ¸çµ¹æ¨©æ†²æºå³å·±å‘¼èª¤åå­çš‡ç´…é™é‹¼åˆ»ç©€éª¨å›°ç ‚åº§æ¸ˆè£ç­–å†Šèš•è‡³ç§å§¿è¦–è©èªŒç£å°„æ¨å°ºè‹¥æ¨¹åå®—å°±è¡†å¾“ç¸¦ç¸®ç†Ÿç´”å‡¦ç½²è«¸é™¤æ‰¿å°†å‚·éšœè’¸é‡ä»å‚æ¨å¯¸ç››è–èª èˆŒå®£å°‚æ³‰æ´—æŸ“éŠ­å–„å¥çª“å‰µè£…å±¤æ“è”µè‡“å­˜å°Šé€€å®…æ‹…æ¢èª•æ®µæš–å€¤å®™å¿ è‘—åºé ‚è…¸æ½®è³ƒç—›æ•µå±•è¨å…šç³–å±Šé›£ä¹³èªç´è„³æ´¾æ‹èƒŒè‚ºä¿³ç­æ™©å¦æ‰¹ç§˜ä¿µè…¹å¥®ä¸¦é™›é–‰ç‰‡è£œæš®å®è¨ªäº¡å¿˜æ£’æšå¹•å¯†ç›Ÿæ¨¡è¨³éƒµå„ªé å¹¼æ¬²ç¿Œä¹±åµè¦§è£å¾‹è‡¨æœ—è«–'
}

var hisshu2 = {
	'1' : 'ä¸€å³é›¨å††ç‹éŸ³ä¸‹ç«èŠ±è²å­¦æ°—ä¹ä¼‘ç‰é‡‘ç©ºæœˆçŠ¬è¦‹äº”å£æ ¡å·¦ä¸‰å±±å­å››ç³¸å­—è€³ä¸ƒè»Šæ‰‹åå‡ºå¥³å°ä¸Šæ£®äººæ°´æ­£ç”Ÿé’å¤•çŸ³èµ¤åƒå·å…ˆæ—©è‰è¶³æ‘å¤§ç”·ç«¹ä¸­è™«ç”ºå¤©ç”°åœŸäºŒæ—¥å…¥å¹´ç™½å…«ç™¾æ–‡æœ¨æœ¬åç›®ç«‹åŠ›æ—å…­',
	'2' : 'å¼•ç¾½é›²åœ’é ä½•ç§‘å¤å®¶æ­Œç”»å›ä¼šæµ·çµµå¤–è§’æ¥½æ´»é–“ä¸¸å²©é¡”æ±½è¨˜å¸°å¼“ç‰›é­šäº¬å¼·æ•™è¿‘å…„å½¢è¨ˆå…ƒè¨€åŸæˆ¸å¤åˆå¾Œèªå·¥å…¬åºƒäº¤å…‰è€ƒè¡Œé«˜é»„åˆè°·å›½é»’ä»Šæ‰ç´°ä½œç®—æ­¢å¸‚çŸ¢å§‰æ€ç´™å¯ºè‡ªæ™‚å®¤ç¤¾å¼±é¦–ç§‹é€±æ˜¥æ›¸å°‘å ´è‰²é£Ÿå¿ƒæ–°è¦ªå›³æ•°è¥¿å£°æ˜Ÿæ™´åˆ‡é›ªèˆ¹ç·šå‰çµ„èµ°å¤šå¤ªä½“å°åœ°æ± çŸ¥èŒ¶æ˜¼é•·é³¥æœç›´é€šå¼Ÿåº—ç‚¹é›»åˆ€å†¬å½“æ±ç­”é ­åŒé“èª­å†…å—è‚‰é¦¬å£²è²·éº¦åŠç•ªçˆ¶é¢¨åˆ†èç±³æ­©æ¯æ–¹åŒ—æ¯å¦¹ä¸‡æ˜é³´æ¯›é–€å¤œé‡å‹ç”¨æ›œæ¥é‡Œç†è©±',
	'3' : 'æ‚ªå®‰æš—åŒ»å§”æ„è‚²å“¡é™¢é£²é‹æ³³é§…å¤®æ¨ªå±‹æ¸©åŒ–è·ç•Œé–‹éšå¯’æ„Ÿæ¼¢é¤¨å²¸èµ·æœŸå®¢ç©¶æ€¥ç´šå®®çƒå»æ©‹æ¥­æ›²å±€éŠ€åŒºè‹¦å…·å›ä¿‚è»½è¡€æ±ºç ”çœŒåº«æ¹–å‘å¹¸æ¸¯å·æ ¹ç¥­çš¿ä»•æ­»ä½¿å§‹æŒ‡æ­¯è©©æ¬¡äº‹æŒå¼å®Ÿå†™è€…ä¸»å®ˆå–é…’å—å·æ‹¾çµ‚ç¿’é›†ä½é‡å®¿æ‰€æš‘åŠ©æ˜­æ¶ˆå•†ç« å‹ä¹—æ¤ç”³èº«ç¥çœŸæ·±é€²ä¸–æ•´æ˜”å…¨ç›¸é€æƒ³æ¯é€Ÿæ—ä»–æ‰“å¯¾å¾…ä»£ç¬¬é¡Œç‚­çŸ­è«‡ç€æ³¨æŸ±ä¸å¸³èª¿è¿½å®šåº­ç¬›é‰„è»¢éƒ½åº¦æŠ•è±†å³¶æ¹¯ç™»ç­‰å‹•ç«¥è¾²æ³¢é…å€ç®±ç•‘ç™ºåå‚æ¿çš®æ‚²ç¾é¼»ç­†æ°·è¡¨ç§’ç—…å“è² éƒ¨æœç¦ç‰©å¹³è¿”å‹‰æ”¾å‘³å‘½é¢å•å½¹è–¬ç”±æ²¹æœ‰éŠäºˆç¾Šæ´‹è‘‰é™½æ§˜è½æµæ—…ä¸¡ç·‘ç¤¼åˆ—ç·´è·¯å’Œ',
	'4' : 'æ„›æ¡ˆä»¥è¡£ä½å›²èƒƒå°è‹±æ „å¡©å„„åŠ æœè²¨èª²èŠ½æ”¹æ¢°å®³è¡—å„è¦šå®Œå®˜ç®¡é–¢è¦³é¡˜å¸Œå­£ç´€å–œæ——å™¨æ©Ÿè­°æ±‚æ³£æ•‘çµ¦æŒ™æ¼å…±å”é¡ç«¶æ¥µè¨“è»éƒ¡å¾„å‹æ™¯èŠ¸æ¬ çµå»ºå¥é¨“å›ºåŠŸå¥½å€™èˆªåº·å‘Šå·®èœæœ€ææ˜¨æœ­åˆ·æ®ºå¯Ÿå‚ç”£æ•£æ®‹å£«æ°å²å¸è©¦å…æ²»è¾å¤±å€Ÿç¨®å‘¨ç¥é †åˆæ¾ç¬‘å”±ç„¼è±¡ç…§è³è‡£ä¿¡æˆçœæ¸…é™å¸­ç©æŠ˜ç¯€èª¬æµ…æˆ¦é¸ç„¶äº‰å€‰å·£æŸå´ç¶šå’å­«å¸¯éšŠé”å˜ç½®ä»²è²¯å…†è…¸ä½åº•åœçš„å…¸ä¼å¾’åŠªç¯å ‚åƒç‰¹å¾—æ¯’ç†±å¿µæ•—æ¢…åšé£¯é£›è²»å¿…ç¥¨æ¨™ä¸å¤«ä»˜åºœå‰¯ç²‰å…µåˆ¥è¾ºå¤‰ä¾¿åŒ…æ³•æœ›ç‰§æœ«æº€æœªè„ˆæ°‘ç„¡ç´„å‹‡è¦é¤Šæµ´åˆ©é™¸è‰¯æ–™é‡è¼ªé¡ä»¤å†·ä¾‹æ­´é€£è€åŠ´éŒ²',
	'5' : 'åœ§ç§»å› æ°¸å–¶è¡›æ˜“ç›Šæ¶²æ¼”å¿œå¾€æ¡œæ©å¯ä»®ä¾¡æ²³éè³€å¿«è§£æ ¼ç¢ºé¡åˆŠå¹¹æ…£çœ¼åŸºå¯„è¦æŠ€ç¾©é€†ä¹…æ—§å±…è¨±å¢ƒå‡ç¦å¥ç¾¤çµŒæ½”ä»¶åˆ¸é™ºæ¤œé™ç¾æ¸›æ•…å€‹è­·åŠ¹åšè€•é‰±æ§‹èˆˆè¬›æ··æŸ»å†ç½å¦»æ¡éš›åœ¨è²¡ç½ªé›‘é…¸è³›æ”¯å¿—æå¸«è³‡é£¼ç¤ºä¼¼è­˜è³ªèˆè¬æˆä¿®è¿°è¡“æº–åºæ‹›æ‰¿è¨¼æ¡çŠ¶å¸¸æƒ…ç¹”è·åˆ¶æ€§æ”¿å‹¢ç²¾è£½ç¨è²¬ç¸¾æ¥è¨­èˆŒçµ¶éŠ­ç¥–ç´ ç·é€ åƒå¢—å‰‡æ¸¬å±ç‡æé€€è²¸æ…‹å›£æ–­ç¯‰å¼µæç¨‹é©æ•µçµ±éŠ…å°å¾³ç‹¬ä»»ç‡ƒèƒ½ç ´çŠ¯åˆ¤ç‰ˆæ¯”è‚¥éå‚™ä¿µè©•è²§å¸ƒå©¦å¯Œæ­¦å¾©è¤‡ä»ç·¨å¼ä¿å¢“å ±è±Šé˜²è²¿æš´å‹™å¤¢è¿·ç¶¿è¼¸ä½™é å®¹ç•¥ç•™é ˜',
	'6' : 'ç•°éºåŸŸå®‡æ˜ å»¶æ²¿æˆ‘ç°æ‹¡é©é–£å‰²æ ªå¹²å·»çœ‹ç°¡å±æœºæ®è²´ç–‘å¸ä¾›èƒ¸éƒ·å‹¤ç­‹ç³»æ•¬è­¦åŠ‡æ¿€ç©´çµ¹æ¨©æ†²æºå³å·±å‘¼èª¤åå­çš‡ç´…é™é‹¼åˆ»ç©€éª¨å›°ç ‚åº§æ¸ˆè£ç­–å†Šèš•è‡³ç§å§¿è¦–è©èªŒç£å°„æ¨å°ºè‹¥æ¨¹åå®—å°±è¡†å¾“ç¸¦ç¸®ç†Ÿç´”å‡¦ç½²è«¸é™¤å°†å‚·éšœåŸè’¸é‡ä»å‚æ¨å¯¸ç››è–èª å®£å°‚æ³‰æ´—æŸ“å–„å¥çª“å‰µè£…å±¤æ“è”µè‡“å­˜å°Šå®…æ‹…æ¢èª•æ®µæš–å€¤å®™å¿ è‘—åºé ‚æ½®è³ƒç—›å±•è¨å…šç³–å±Šé›£ä¹³èªç´è„³æ´¾æ‹èƒŒè‚ºä¿³ç­æ™©å¦æ‰¹ç§˜è…¹å¥®ä¸¦é™›é–‰ç‰‡è£œæš®å®è¨ªäº¡å¿˜æ£’æšå¹•å¯†ç›Ÿæ¨¡è¨³éƒµå„ªå¹¼æ¬²ç¿Œä¹±åµè¦§è£å¾‹è‡¨æœ—è«–'
}
// æ¼¢å­—ï¼ˆUnicodeçš„ã«è¨€ã†CJKçµ±åˆæ¼¢å­—ã®ç¯„å›²ï¼‰ã‚’è¡¨ã™æ­£è¦è¡¨ç¾
var kanji = new RegExp(/[\u3400-\u4dbf\u4e00-\u9fff\uf900-\ufaff]/);

// ã‚µãƒ­ã‚²ãƒ¼ãƒˆãƒšã‚¢
var hs = new RegExp(/[\ud800-\udbff]/);
var ls = new RegExp(/[\udc00-\udfff]/);

//ã€€èµ¤å­—ã®å€‹æ•°ã‚’ã‚«ã‚¦ãƒ³ãƒˆ
let count = 0

// ãƒã‚§ãƒƒã‚¯é–¢æ•°
exports.check = (text) => {

  // ok = æŒ‡å®šã•ã‚ŒãŸå­¦å¹´ã¾ã§ã«ç¿’ã†æ¼¢å­—
  var ok = "";
  // limit = document.getElementById("gakunen").value;
  limit = 6
  // altdata = document.getElementById("altdata").checked;
  altdata = false;
  // å„å­¦å¹´ã®ãƒ‡ãƒ¼ã‚¿ã‚’é€£çµã—ãŸæ–‡å­—åˆ—ã‚’ä½œã‚‹
  if (altdata) {
    for (i = 1; i <= limit; i++) {
      ok += hisshu2[i];
    }
  }
  else {
    for (i = 1; i <= limit; i++) {
      ok += hisshu[i];
    }
  }

  // ãƒã‚§ãƒƒã‚¯å¯¾è±¡ãƒ†ã‚­ã‚¹ãƒˆå–å¾—
  text = text.replace(/&/g, '&amp;').replace(/>/g, '&gt;').replace(/</g, '&lt;');

  // çµæœæ ¼ç´ç”¨å¤‰æ•°
  var result = "";

  // ãƒã‚§ãƒƒã‚¯å¯¾è±¡ã‚’1æ–‡å­—ãšã¤ç¢ºèªã—ãªãŒã‚‰ã€resultã«æŠ•å…¥
  chars = text.split('');
  for (i = 0; i < chars.length; i++) {
    c = chars[i];
    // æ¼¢å­—ã ã£ãŸã‚‰
    if (c.match(kanji)) {
      // ç¿’ã£ã¦ã‚‹
      if (ok.match(c)) {
        result += c;
      }
      // ç¿’ã£ã¦ãªã„
      else {
        result += '<span class = "red">' + c + '</span>'
        count++
      }
    }

    // æ‹¡å¼µé ˜åŸŸå¯¾å¿œã€‚
    // æ‹¡å¼µé ˜åŸŸæ–‡å­—ã¯æ¼¢å­—ã«é™ã‚‰ãšä½•ã§ã‚‚å¼·èª¿ã™ã‚‹ã€é›‘ãªå‡¦ç†ã€‚
    // ã‚µãƒ­ã‚²ãƒ¼ãƒˆãƒšã‚¢ä¸Šä½
    else if (c.match(hs)) {
      c += chars[i + 1]; // ç›´å¾Œã®ç›¸æ–¹ã‚’ãã£ã¤ã‘ã‚‹
      result += '<span class = "red" >' + c + '</span>';
    }

    // ã‚µãƒ­ã‚²ãƒ¼ãƒˆãƒšã‚¢ä¸‹ä½
    else if (c.match(ls)) {
      continue; // ç›´å‰ã®ç›¸æ–¹ã¨ä¸€ç·’ã«å‡¦ç†æ¸ˆãªã®ã§ã€ç„¡è¦–ã€‚
    }

    // æ¼¢å­—ã¨æ‹¡å¼µé ˜åŸŸä»¥å¤–ã¯ç„¡æ¡ä»¶ã§é€šé
    else {
      result += c;
    }
  }

  // ãƒã‚§ãƒƒã‚¯åŸºæº–å¤‰ãˆã¦ã„ã‚‹å ´åˆã¯ã€çµæœã®æœ«å°¾ã«æ³¨é‡ˆã¤ã‘ã‚‹
  if(count > 0){
    result += '<br><br><span style="color:gray">ï¼ˆå°å­¦æ ¡6å¹´ç”Ÿã¾ã§ã«ç¿’ã£ã¦ã„ãªã„ã‚‚ã®ã¯èµ¤å­—ã§ç¤ºã—ã¦ã‚ã‚Šã¾ã™ã€‚ï¼‰</span>';
  }else{
    result += '<br><br><span style="color:gray">ï¼ˆã“ã®ä¸­ã«å°å­¦æ ¡ã§æœªç¿’å¾—ã®æ¼¢å­—ã¯ã‚ã‚Šã¾ã›ã‚“ã€‚ğŸ‘)</span>';
  }
  count =0
  // çµæœã‚’ç”»é¢ã«è¡¨ç¤º
  result = result.replace(/\n/g, '<br />');
  return result
}
